# 光伏电站数据爬取与分析系统 (EPF - Solar Power Plant Data System)

## 项目简介

本项目是一个完整的光伏电站数据爬取、预处理和分析系统，主要用于获取和分析光伏电站的发电数据、天气数据等，为电站性能分析和预测提供数据支持。

## 项目结构

```
sxg/
├── README.md                    # 项目说明文档
├── new_frame/                   # 新版数据分析框架
│   ├── work_194.ipynb          # 194号电站数据分析
│   └── work_772.ipynb          # 772号电站数据分析
├── 功率/                        # 功率数据相关模块
│   ├── data_get.py             # 基础数据爬取程序
│   ├── data_get_new.py         # 新版数据爬取程序（含天气数据）
│   ├── preprocess.ipynb        # 数据预处理和分析
│   ├── work_772.ipynb          # 772号电站工作分析
│   ├── config.ini              # 配置文件
│   ├── data/                   # 数据存储目录
│   ├── data_three_years/       # 三年历史数据
│   └── data.zip                # 数据压缩包
├── data/                        # 主数据目录
│   ├── 772/                    # 772号电站数据
│   └── 194/                    # 194号电站数据
└── .ipynb_checkpoints/         # Jupyter notebook检查点
```

## 主要功能

### 1. 数据爬取模块
- **自动登录系统**: 支持自动登录光伏电站监控平台
- **数据获取**: 自动爬取指定时间段的电站发电数据
- **天气数据**: 集成天气数据获取功能
- **多电站支持**: 支持多个电站ID的数据爬取
- **错误重试**: 内置重试机制，提高数据获取成功率

### 2. 数据预处理模块
- **JSON数据转换**: 将爬取的JSON数据转换为DataFrame格式
- **数据清洗**: 处理缺失值、异常值等数据质量问题
- **时间序列处理**: 支持按时间段筛选和处理数据
- **数据合并**: 将不同来源的数据进行整合

### 3. 数据分析模块
- **基础统计分析**: 发电量、功率、利用小时数等关键指标分析
- **时间序列分析**: 按日、月、年等时间维度进行数据分析
- **可视化分析**: 提供图表展示功能
- **机器学习准备**: 为后续的机器学习模型准备训练数据

## 技术特点

- **Python生态**: 基于Python开发，使用pandas、numpy、matplotlib等主流库
- **Selenium自动化**: 使用Selenium进行网页自动化操作
- **配置化管理**: 支持通过配置文件灵活调整爬取参数
- **日志记录**: 完整的日志记录系统，便于调试和监控
- **模块化设计**: 清晰的模块划分，便于维护和扩展

## 安装依赖

NeuralProphet 官方仓库

https://github.com/ourownstory/neural_prophet



## 使用方法

### 1. 配置设置
编辑 `功率/config.ini` 文件，设置：
- 网站登录信息
- 爬取的时间范围
- 目标电站ID
- 数据存储路径

### 2. 数据爬取
```bash
cd 功率/
python data_get_new.py
```

### 3. 数据分析
打开Jupyter notebook文件进行数据分析：
```bash
jupyter notebook preprocess.ipynb
```

## 数据字段说明

### 电站数据字段
- `useValue`: 使用电量
- `buyValue`: 购电量
- `fullPowerHours`: 满功率小时数
- `generationValue`: 发电量
- `dateTime`: 时间戳
- `generationPower`: 发电功率

### 天气数据字段
- 温度、湿度、风速等气象参数
- 太阳辐射强度
- 天气状况描述


